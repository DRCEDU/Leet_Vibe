!function(){const e={nativeAds:[],init(){window.googletag=window.googletag||{cmd:[]},this.defineAds(),this.initNativeListeners(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this.initAfterDocumentReady):this.initAfterDocumentReady()},initAfterDocumentReady(){googletag.cmd.push((()=>{e.displayAds(),e.initStickyFooter()}))},sanitize(e=""){return String(e).trim().replace(/'|\\|'|=|!|#|\*|~|;|\^|\(|\)|<|>|\[|\]|,|&/g,"").replace(/\s+/," ").replace("+","and").substring(0,40)},sanitizeTargetingValue(e=""){return Array.isArray(e)?e.map(this.sanitize):this.sanitize(e)},defineAds(){googletag.cmd.push((()=>{for(const e of Object.keys(tdsAdKeyValues))googletag.pubads().setTargeting(e,this.sanitizeTargetingValue(tdsAdKeyValues[e]));googletag.pubads().collapseEmptyDivs(),googletag.pubads().enableLazyLoad(),googletag.pubads().enableSingleRequest(),googletag.enableServices(),this.nativeAds["div-gpt-ad-native-top"]=googletag.defineSlot("/22873384501/tds/native_top",["fluid"],"div-gpt-ad-native-top").setTargeting("position ","top").addService(googletag.pubads()),this.nativeAds["div-gpt-ad-native-bottom"]=googletag.defineSlot("/22873384501/tds/native_bottom",["fluid"],"div-gpt-ad-native-bottom").setTargeting("position ","bottom").addService(googletag.pubads());let e=0;["homepage","category","tag","author","archive"].includes(tdsAdKeyValues.page_type)?e=6:"post"===tdsAdKeyValues.page_type&&(e=2);for(let t=1;t<=e&&document.getElementById(`div-gpt-ad-native-inline-${t}`);t++)this.nativeAds[`div-gpt-ad-native-inline-${t}`]=googletag.defineSlot(`/22873384501/tds/native_inline_${t}`,["fluid"],`div-gpt-ad-native-inline-${t}`).setTargeting("position",`inline_${t}`).addService(googletag.pubads())}))},displayAds(){Object.keys(this.nativeAds).forEach((e=>{googletag.display(e)}))},getBreakpoint(){const e=window.innerWidth||document.body.clientWidth;return e>=1400?"x-large":e>=1024?"large":e>=768?"medium":"small"},sendSize(e){let t=`breakpoint:${this.getBreakpoint()}`;e.postMessage(t,"*");const i=document.querySelector("h2.wp-block-post-title");if(!i)return;const n=window.getComputedStyle(i).getPropertyValue("font-size");n&&(t=`headerSize:${n}`,e.postMessage(t,"*"))},notifyAllNativeAds(){this.nativeAds&&0!==this.nativeAds.length&&this.nativeAds.forEach((e=>{this.sendSize(e)}))},initNativeListeners(){window.addEventListener("message",(function(t){"initdfp"===t.data&&(e.sendSize(t.source),e.nativeAds.push(t.source))})),window.addEventListener("resize",e.notifyAllNativeAds.bind(this),{passive:!0})},initStickyFooter(){const e=document.getElementById("div-gpt-ad-native-bottom"),t=document.querySelector(".wp-block-template-part--footer").offsetHeight;let i=!1;window.addEventListener("scroll",(function(){const n=window.scrollY;n>=180&&!i?(e.style.transform="translateY(0)",i=!0):n<=180&&i&&(e.style.transform="translateY(180px)",i=!1),n+window.innerHeight>=document.body.offsetHeight-t&&(e.style.transform="translateY(180px)",i=!1)}),{passive:!0})},blueConicGAMConnection(){if("undefined"!==typeof Storage){const e=localStorage.getItem("bcDFPTargetingParams");if(e){JSON.parse(e).forEach((e=>{window.googletag.pubads().setTargeting(e.key,e.value)}))}}}};window.AdManager=e,e.init()}();